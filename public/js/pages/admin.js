(()=>{"use strict";const t=function(t,s,e,a,i,n,o,d){var r,l="function"==typeof t?t.options:t;if(s&&(l.render=s,l.staticRenderFns=e,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),o?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=r):i&&(r=d?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),r)if(l.functional){l._injectStyles=r;var m=l.render;l.render=function(t,s){return r.call(s),m(t,s)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,r):[r]}return{exports:t,options:l}}({mounted:function(){console.log("Component mounted.")},props:["admin","editFun","deleteFun"],methods:{editItem:function(){this.editFun(this.admin.id)},deleteItem:function(){this.deleteFun(this.admin.id)}}},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("th",{staticClass:"text-center",attrs:{scope:"row"}},[t._v(t._s(t.admin.id))]),t._v(" "),e("td",{staticClass:"d-none d-sm-table-cell"},[t._v("\r\n                    "+t._s(t.admin.username)+"\r\n                   ")]),t._v(" "),e("td",{staticClass:"d-none d-sm-table-cell"},[t._v("\r\n                    "+t._s(t.admin.firstname+" "+t.admin.lastname)+" \r\n                   ")]),t._v(" "),e("td",{staticClass:"d-none d-sm-table-cell"},[t._v("\r\n                    "+t._s(t.admin.email)+" \r\n                   ")]),t._v(" "),e("td",{staticClass:"d-none d-sm-table-cell"},[t._v("\r\n                    "+t._s(t.admin.created_at)+"\r\n                   ")]),t._v(" "),e("td",{staticClass:"d-none d-sm-table-cell"},[e("span",{staticClass:"badge badge-pill",class:{"badge-success":"active"==t.admin.status,"badge-danger":"deactive"==t.admin.status}},[t._v(t._s(this.$getLang(t.admin.status)))])]),t._v(" "),e("td",{staticClass:"text-center"},[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",title:this.$getLang("edit"),"data-toggle":"tooltip","data-placement":"bottom"},on:{click:function(s){return t.editItem()}}},[e("i",{staticClass:"fa fa-pencil-alt"})])]),t._v(" "),e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button",title:this.$getLang("delete"),"data-toggle":"tooltip","data-placement":"bottom"},on:{click:function(s){return t.deleteItem()}}},[e("i",{staticClass:"fa fa-trash"})])])])])}),[],!1,null,null,null).exports;var s="admins/";new Vue({el:"#app",data:{postdata:{},errors:{},modal_target:"#edit-admin-modal",delete_item:0,admins:{},search:"",confirm_password:null,loading:!0,id:0},components:{"admin-item":t},methods:{loadModal:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.id=s,this.initForm(s),s?axios.get(window.location.href+"/"+s).then((function(s){200==s.status&&(t.postdata=s.data,$(t.modal_target).modal("show"))})):$(this.modal_target).modal("show")},closeModal:function(){$(this.modal_target).modal("hide")},storeAdmin:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.valideForm(e),0==Object.keys(this.errors).length&&(e?axios.put(window.location.href+"/"+e,this.postdata).then((function(s){201==s.status?($(t.modal_target).modal("hide"),window.utilities.notify("success","admin updated successfully"),t.getAdmins()):200==s.status&&(s.data.email&&t.$set(t.errors,"email",{taken:s.data.email}),s.data.username&&t.$set(t.errors,"username",{taken:s.data.username}))})).catch((function(s){300==s.response.status&&($(t.modal_target).modal("hide"),window.utilities.notify("error","for security reasons you can't update data in demo version"))})):axios.post(s,this.postdata).then((function(s){201==s.status?($(t.modal_target).modal("hide"),window.utilities.notify("success","New admin added successfully"),t.getAdmins()):200==s.status&&(s.data.email&&t.$set(t.errors,"email",{taken:s.data.email}),s.data.username&&t.$set(t.errors,"username",{taken:s.data.username}))})).catch((function(s){300==s.response.status&&($(t.modal_target).modal("hide"),window.utilities.notify("error","for security reasons you can't update data in demo version"))})))},getAdmins:function(t){var s=this;this.loading=!0,void 0===t&&(t=1);var e="?api=true&page="+t;null!=this.search&&this.search.length&&(e+="&search="+this.search),axios.get(e).then((function(t){200==t.status&&(s.admins=t.data,s.loading=!1)}))},loadModalDelete:function(t){this.delete_item=t,$("#modal-delete").modal("show")},loadModalView:function(t){},deleteItem:function(){var t=this;axios.delete(window.location.href+"/"+this.delete_item).then((function(s){200==s.status&&($("#modal-delete").modal("hide"),window.utilities.notify("success","item deleted successfully"),t.getAdmins())})).catch((function(t){300==t.response.status&&($("#modal-delete").modal("hide"),window.utilities.notify("error","for security reasons you can't update data in demo version"))}))},valideForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.errors={},this.postdata.username||this.$set(this.errors,"username",{required:!0}),this.postdata.email||this.$set(this.errors,"email",{required:!0}),this.postdata.firstname||this.$set(this.errors,"firstname",{required:!0}),this.postdata.username||this.$set(this.errors,"username",{required:!0}),this.postdata.lastname||this.$set(this.errors,"lastname",{required:!0}),this.postdata.password&&this.postdata.password.length>=8&&(this.confirm_password||this.$set(this.errors,"confirm_password",{required:!0}),this.confirm_password!=this.postdata.password&&this.$set(this.errors,"confirm_password",{notmatch:!0})),this.postdata.password&&this.postdata.password.length<8&&this.$set(this.errors,"password",{minimum:!0}),t||this.postdata.password||this.$set(this.errors,"password",{required:!0})},initForm:function(t){t?(this.$set(this.postdata,"password",""),this.confirm_password=""):(this.$set(this.postdata,"status","active"),this.$set(this.postdata,"firstname",""),this.$set(this.postdata,"lastname",""),this.$set(this.postdata,"email",""),this.$set(this.postdata,"password",""),this.confirm_password="")}},mounted:function(){this.initForm(),this.getAdmins()}})})();